"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[862],{8732:(e,t,l)=>{l.d(t,{Yq:()=>o,a3:()=>n,d3:()=>c,dt:()=>p,mh:()=>d,qw:()=>u,xX:()=>m});var a=l(3691),r=l.n(a),i=l(9335),s=l.n(i);let n=e=>{let t=r().duration(e,"minutes"),l=Math.floor(t.asDays());if(l>=1){let e=Math.floor(l/7),t=l%7,a=[];return e>0&&a.push("".concat(e," ").concat(1===e?"wk":"wks")),t>0&&a.push("".concat(t," ").concat(1===t?"day":"days")),a.join(" ")}{let e=t.hours(),l=t.minutes(),a=[];return e>0&&a.push("".concat(e," ").concat(1===e?"hr":"hrs")),a.push("".concat(0===l?"":l," ").concat(0===l?"":"mins")),a.join(" ")}},o=e=>{let[t,l]=e.split("/");return[t,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][[parseInt(l)-1]]]},d=e=>r()(e,"DD/MM/YYYY").format("dddd, MMMM Do YYYY"),c=e=>r()(e,"DD/MM/YYYY").isBefore(r()(),"day"),u=e=>{var t;return null!==(t=null==e?void 0:e.toLowerCase().split(/\W+/).filter(Boolean))&&void 0!==t?t:[]},m=(e,t)=>{let l=new Set(u(e)),a=new Set(u(t)),r=new Set([...l].filter(e=>a.has(e))),i=new Set([...l,...a]);return i.size?r.size/i.size:0},p=(e,t)=>{var l,a;return s().compareTwoStrings(null!==(l=null==e?void 0:e.toLowerCase())&&void 0!==l?l:"",null!==(a=null==t?void 0:t.toLowerCase())&&void 0!==a?a:"")}},6309:(e,t,l)=>{l.d(t,{default:()=>r});var a=l(5155);let r=(0,l(2115).forwardRef)((e,t)=>{let{as:l="button",type:r="button",href:i,variant:s="primary",className:n="",disabled:o=!1,children:d,...c}=e,u="a"===l?{role:"button",tabIndex:o?-1:0,onKeyDown:e=>{o||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.target.click())}}:{};return(0,a.jsx)(l,{ref:t,type:"button"===l?r:void 0,href:o?void 0:i,className:"".concat("flex-none rounded-md px-3.5 py-2.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"," ").concat({primary:"bg-primary text-label hover:bg-primary_hover focus-visible:outline-primary",white:"bg-white text-label hover:bg-gray-50 border-2 border-gray-100 focus-visible:outline-white"}[s]," ").concat(o?"!bg-gray-400 cursor-not-allowed":""," ").concat(n),disabled:"button"===l?o:void 0,...u,...c,onClick:o?void 0:c.onClick,children:d})})},5217:(e,t,l)=>{l.d(t,{A:()=>x});var a=l(5155),r=l(2115),i=l(5360),s=l(4845),n=l(6898),o=l(8732);let d=e=>{let{id:t,title:l,description:r,categories:i,duration:s,thumbnail:n,alt:d,type:c,page_href:u,inactive:m=!1,ariaHidden:p=!1}=e,b=(0,o.a3)(s);return(0,a.jsx)("article",{className:"flex-1 flex flex-col bg-white border border-slate-200 rounded-lg group",role:"region","aria-labelledby":"card-title-".concat(t),"aria-hidden":p?"true":void 0,children:(0,a.jsxs)("a",{href:u||"details.html?id=".concat(t),"aria-label":"View details of ".concat(l," (").concat(c,", ").concat(b,")"),tabIndex:m?-1:0,className:"h-full rounded-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary",children:[(0,a.jsx)("div",{className:"relative aspect-video overflow-hidden rounded-t-lg",children:n?(0,a.jsx)("img",{src:n,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:d||"".concat(l," thumbnail"),loading:"lazy"}):(0,a.jsx)("div",{className:"bg-gray-300 w-full h-full animate-pulse","aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"p-4 flex flex-col flex-1",children:[(0,a.jsxs)("span",{className:"mb-2 text-primary font-semibold text-sm",children:[i.length>0?i.length>1?"Multiple | ":i[0]+" | ":void 0," ",c," |"," ",(0,o.a3)(s)]}),l?(0,a.jsx)("h3",{id:"card-title-".concat(t),className:"mb-2 text-lg font-semibold line-clamp-2 leading-tight text-gray-800",children:l}):(0,a.jsx)("div",{className:"bg-gray-300 animate-pulse h-[24px] w-[80%] mb-[16px]","aria-hidden":"true"}),r?(0,a.jsx)("p",{className:"mb-4 line-clamp-3 flex-1 text-gray-700",children:r}):(0,a.jsx)("div",{className:"bg-gray-300 animate-pulse h-[16px] w-[90%] mb-[16px]","aria-hidden":"true"})]})]})})},c=e=>{let{perView:t}=e;return(0,a.jsxs)("div",{className:"glide","aria-hidden":"true",children:[(0,a.jsx)("div",{className:"glide__track","data-glide-el":"track",children:(0,a.jsx)("ul",{className:"glide__slides items-stretch",children:Array.from({length:t}).map((e,t)=>(0,a.jsx)("li",{className:"glide__slide h-auto",children:(0,a.jsx)("div",{className:"bg-gray-400 animate-pulse h-[300px] rounded-lg",role:"presentation"})},t))})}),(0,a.jsxs)("div",{className:"flex gap-2 justify-between mt-4",children:[(0,a.jsx)("button",{className:"p-2 bg-gray-500 rounded-full animate-pulse w-10 h-10","aria-label":"Previous slide",disabled:!0}),(0,a.jsx)("button",{className:"p-2 bg-gray-500 rounded-full animate-pulse w-10 h-10","aria-label":"Next slide",disabled:!0})]})]})};var u=l(6309);let m=e=>e?Array.from(e.querySelectorAll('a[href], button:not([disabled]), [tabindex]:not([tabindex="-1"])')):[],p=e=>{let{cards:t=[],perView:l=3,onViewAll:o}=e,p=(0,r.useRef)(null),b=(0,r.useRef)(null),g=(0,r.useRef)(null),x=()=>{var e;Array.from((null===(e=p.current)||void 0===e?void 0:e.querySelectorAll(".glide__slide"))||[]).forEach(e=>{let t=e.classList.contains("glide__slide--active")||e.classList.contains("glide__slide--visible");e.tabIndex=-1,e.setAttribute("aria-hidden",!t),m(e).forEach(e=>{e.tabIndex=t?0:-1,e.setAttribute("aria-hidden",!t)})})};return((0,r.useEffect)(()=>{if(p.current&&t.length>0){let e=new n.A(p.current,{type:"carousel",startAt:0,perView:l,gap:15,throttle:100,keyboard:!1,breakpoints:{1024:{perView:2},768:{perView:1}}});return e.on(["mount.after","run.after"],x),g.current=new MutationObserver(x),g.current.observe(p.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["class"]}),e.mount(),b.current=e,setTimeout(x,0),()=>{var t;e.destroy(),null===(t=g.current)||void 0===t||t.disconnect()}}},[t,l]),(0,r.useEffect)(()=>{let e=e=>{var t,l,a;(null===(t=p.current)||void 0===t?void 0:t.contains(document.activeElement))&&("ArrowRight"===e.key?(e.preventDefault(),null===(l=b.current)||void 0===l||l.go(">")):"ArrowLeft"===e.key&&(e.preventDefault(),null===(a=b.current)||void 0===a||a.go("<")))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),null==t?void 0:t.length)?(0,a.jsxs)("div",{className:"glide",ref:p,role:"region","aria-roledescription":"carousel","aria-label":"Card carousel",tabIndex:-1,children:[(0,a.jsx)("div",{className:"glide__track","data-glide-el":"track",children:(0,a.jsx)("ul",{className:"glide__slides items-stretch",children:t.map(e=>(0,a.jsx)("li",{className:"glide__slide h-auto",role:"group","aria-roledescription":"slide",children:(0,a.jsx)(d,{...e,className:"h-full"})},e.id))})}),(0,a.jsxs)("div",{className:"flex gap-2 justify-between mt-4",children:[o&&(0,a.jsx)(u.default,{href:o,children:"View All"}),(0,a.jsxs)("div",{className:"flex gap-2","data-glide-el":"controls",children:[(0,a.jsx)("button",{className:"p-2 bg-primary text-label rounded-full","data-glide-dir":"<","aria-label":"Previous slide",children:(0,a.jsx)(i.A,{className:"w-5 h-5","aria-hidden":"true"})}),(0,a.jsx)("button",{className:"p-2 bg-primary text-label rounded-full","data-glide-dir":">","aria-label":"Next slide",children:(0,a.jsx)(s.A,{className:"w-5 h-5","aria-hidden":"true"})})]})]})]}):(0,a.jsx)(c,{perView:l,"aria-label":"Loading..."})},b=e=>{let{perRow:t,perPage:l,paginated:r}=e,i=Math.max(l,t);return(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8","aria-hidden":"true",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-4 bg-gray-400 animate-pulse h-8 w-1/3 rounded"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-".concat(t," gap-6"),children:Array.from({length:i}).map((e,t)=>(0,a.jsx)("div",{className:"bg-gray-400 animate-pulse h-[300px] rounded-lg",role:"presentation"},t))}),r&&(0,a.jsxs)("div",{className:"flex items-center gap-8 place-content-between mt-8",children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-gray-500 animate-pulse rounded font-semibold w-[60px] h-[40px]",type:"button","aria-label":"Previous page button placeholder",disabled:!0}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Page"," ",(0,a.jsx)("span",{className:"bg-gray-500 animate-pulse inline-block h-[20px] w-[30px] rounded"})," ","of"," ",(0,a.jsx)("span",{className:"bg-gray-500 animate-pulse inline-block h-[20px] w-[30px] rounded"})]}),(0,a.jsx)("button",{className:"px-4 py-2 bg-gray-500 animate-pulse rounded font-semibold w-[60px] h-[40px]",type:"button","aria-label":"Next page button placeholder",disabled:!0})]})]})},g={topN:(e,t)=>t?null==e?void 0:e.slice(0,t):e,byId:(e,t)=>t?e.filter(e=>t.includes(e.id)):e,byCategory:(e,t)=>t.length>0?e.filter(e=>t.some(t=>e.categories.includes(t))):e,byProgramme:(e,t)=>t.length>0?e.filter(e=>t.some(t=>{var l;return null===(l=e.programme)||void 0===l?void 0:l.includes(t)})):e,byMaxDuration:(e,t)=>t?e.filter(e=>e.duration<=t):e,byMinDuration:(e,t)=>t?e.filter(e=>e.duration>=t):e,byType:(e,t)=>t.length>0?e.filter(e=>t.some(t=>{var l;return null===(l=e.type)||void 0===l?void 0:l.includes(t)})):e,byLocation:(e,t)=>t?e.filter(e=>!!("Event"===e.type&&Array.isArray(e.events))&&e.events.some(e=>e.location===t)):e,byQuery:(e,t)=>{if(!t)return e;let l=(0,o.qw)(t).join(" ");return e.map(e=>{let a=.7*(0,o.xX)(l,e.title||"")+.3*(0,o.dt)(t,e.title||""),r=.6*(0,o.xX)(l,e.description||"")+.4*(0,o.dt)(t,e.description||""),i=.5*(0,o.xX)(l,e.keywords||"")+.5*(0,o.dt)(t,e.keywords||"");return{course:e,score:3*i+2*a+1*r}}).filter(e=>{let{score:t}=e;return t>.1}).sort((e,t)=>t.score-e.score).map(e=>{let{course:t}=e;return t})}},x=e=>{let{id:t,title:l,description:n,cards:o=[],filters:c,paginated:u,useCarousel:m=!1,perRow:x=4,perView:h=4,onViewAll:f,pageCount:v=1,onPageChange:y}=e,[j,w]=(0,r.useState)([]),[N,_]=(0,r.useState)(!0),k=u?12:null==o?void 0:o.length,A=v*k,M=null==j?void 0:j.slice(A-k,A),E=Math.ceil((null==j?void 0:j.length)/k);(0,r.useEffect)(()=>{_(!0),c?w(C(o,c)):w(o),_(!1)},[o,c]);let C=(e,t)=>{let l=!!t.byId;return Object.entries(t).reduce((e,t)=>{let[a,r]=t;if(l&&"byCategory"===a)return e;let i=g[a];return i?i(e,r):e},e)};if(N)return(0,a.jsx)(b,{perRow:m?h:x,perPage:m?h:k,paginated:u,"aria-label":"Loading card section content"});let D=(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsx)("h2",{id:"card-section-title",className:"text-2xl font-semibold mb-2 text-gray-800",children:l}),n&&(0,a.jsx)("p",{className:"mb-6 text-gray-700",children:n}),(null==j?void 0:j.length)>0&&u&&!m&&(0,a.jsxs)("p",{className:"text-sm mb-4 text-gray-600",children:[(0,a.jsx)("span",{children:j.length})," results"]}),m?(0,a.jsx)(p,{cards:M,perView:h,onViewAll:f}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-".concat(x," gap-6"),"aria-labelledby":"card-section-title",children:null==M?void 0:M.map(e=>(0,a.jsx)(d,{id:e.id,title:e.title,description:e.description,duration:e.duration,thumbnail:e.thumbnail,type:e.type,categories:e.categories,page_href:e.page_href},crypto.randomUUID()))}),!m&&u&&j.length>k&&(0,a.jsxs)("div",{className:"flex items-center gap-8 place-content-between mt-8",children:[(0,a.jsx)("button",{id:"prev",className:"px-4 py-2 bg-primary text-label rounded font-semibold disabled:bg-gray-500 hover:bg-primary_hover focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-primary",type:"button",onClick:()=>{v>1&&y&&y(v-1)},disabled:1===v,"aria-label":"Navigate to the previous page of results",children:(0,a.jsx)(i.A,{})}),(0,a.jsxs)("p",{children:["Page"," ",(0,a.jsx)("span",{id:"current_page","aria-live":"polite",children:(0,a.jsx)("strong",{children:v})})," ","of\xa0",(0,a.jsx)("span",{id:"no_pages",children:(0,a.jsx)("strong",{children:E})})]}),(0,a.jsx)("button",{id:"next",className:"px-4 py-2 bg-primary text-label rounded font-semibold disabled:bg-gray-500 hover:bg-primary_hover focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-primary",type:"button",onClick:()=>{v<E&&y&&y(v+1)},disabled:v===E,"aria-label":"Navigate to the next page of results",children:(0,a.jsx)(s.A,{})})]})]});return u?D:(0,a.jsx)("div",{id:t,className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",role:"region","aria-labelledby":"card-section-title",children:D})}},1950:(e,t,l)=>{l.d(t,{A:()=>s,u:()=>n});var a=l(5155),r=l(2115);let i=(0,r.createContext)(),s=e=>{let{children:t}=e,[l,s]=(0,r.useState)({}),[n,o]=(0,r.useState)(!0),[d,c]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{let e=["articles.json","courses.json","categories.json","discover.json","featured.json","featured_home.json","footer.json","landing.json","links.json","slides.json","tours.json"],t=e.map(e=>fetch("".concat(e)).then(t=>{if(!t.ok)throw Error("Failed to fetch ".concat(e));return t.json()}).catch(t=>{throw console.error("Error fetching ".concat(e,":"),t),t})),l=await Promise.all(t),a=e.reduce((e,t,a)=>(e[t.replace(".json","")]=l[a],e),{});s(a)}catch(e){c(e),console.error("Error fetching JSON files:",e)}finally{o(!1)}})()},[]),(0,a.jsx)(i.Provider,{value:{data:l,isLoading:n,error:d},children:t})},n=()=>(0,r.useContext)(i)}}]);