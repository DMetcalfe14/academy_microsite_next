(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{4913:(e,t,r)=>{Promise.resolve().then(r.bind(r,6306))},6306:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(5155),a=r(2115),n=r(6046),l=r(1950),o=r(8510),c=r(4708),i=r(9327),u=r(8036);let d=e=>{let{label:t,checked:r,onChange:a}=e,n=t.toLowerCase().replace(/\s+/g,"_");return(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)("input",{id:n,type:"checkbox",className:"h-4 w-4 accent-primary border-gray-300 rounded focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-primary",checked:r,onChange:a,"aria-checked":r}),(0,s.jsx)("label",{htmlFor:n,className:"ml-3 text-sm text-gray-900",children:t})]})},m=()=>(0,s.jsxs)("div",{className:"flex items-center mb-2","aria-hidden":"true",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-gray-400 animate-pulse rounded mr-2",role:"presentation"}),(0,s.jsx)("div",{className:"h-4 w-32 bg-gray-400 animate-pulse rounded",role:"presentation"})]});function h(){let e=(0,n.useSearchParams)(),t=(0,n.usePathname)(),[r,h]=(0,a.useState)([]),[p,f]=(0,a.useState)([]),[g,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[j,w]=(0,a.useState)(""),[v,S]=(0,a.useState)(1),[N,C]=(0,a.useState)({categories:!1,types:!1,locations:!1}),{data:k,isLoading:O}=(0,l.u)(),{courses:E=[]}=k,{setLocation:A}=(0,o.A)(),L=[...new Set([...E.flatMap(e=>e.categories)||[]])],P=[...new Set(E.map(e=>e.type))],I=[...new Set(E.filter(e=>"Event"===e.type).flatMap(e=>e.events.map(e=>e.location)))];(0,a.useEffect)(()=>{A("Navigated to search")},[]),(0,a.useEffect)(()=>{let t=e.get("query")||"",r=e.get("category"),s=e.get("type"),a=e.get("location");r&&h(r.split(",")),s&&f(s.split(",")),a&&x(a),y(t),w(t)},[]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{w(b),""!=b&&A("Searching with query: ".concat(b)),_(),R()},1e3);return()=>clearTimeout(e)},[b]),(0,a.useEffect)(()=>{_()},[r,p,g]);let R=()=>{S(1)},_=()=>{let s=new URLSearchParams(e.toString());b?s.set("query",b):s.delete("query"),r.length?s.set("category",r.join(",")):s.delete("category"),p.length?s.set("type",p.join(",")):s.delete("type"),g?s.set("location",g):s.delete("location");let a="".concat(t,"?").concat(s.toString());window.history.pushState(null,"",a)},M=e=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),R()},q=e=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),R()},T=e=>{x(t=>t===e?"":e),R()},F=e=>{C(t=>({...t,[e]:!t[e]}))};return(0,s.jsx)("main",{"aria-label":"Search results",children:(0,s.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)("aside",{className:"grid-cols-1","aria-labelledby":"filters-heading",children:[(0,s.jsx)("h1",{id:"filters-heading",className:"text-2xl font-semibold mb-4",children:"Filters"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("button",{onClick:()=>F("categories"),className:"flex items-center justify-between w-full text-md font-semibold mb-2",children:["Categories",N.categories?(0,s.jsx)(c.A,{}):(0,s.jsx)(i.A,{})]}),N.categories&&(O?Array.from({length:5}).map((e,t)=>(0,s.jsx)(m,{},t)):L.map(e=>(0,s.jsx)(d,{label:e,checked:r.includes(e),onChange:()=>M(e)},e)))]}),(0,s.jsxs)("div",{className:"mb-6",id:"types",children:[(0,s.jsxs)("button",{onClick:()=>F("types"),className:"flex items-center justify-between w-full text-md font-semibold mb-2",children:["Types",N.types?(0,s.jsx)(c.A,{}):(0,s.jsx)(i.A,{})]}),N.types&&(O?Array.from({length:5}).map((e,t)=>(0,s.jsx)(m,{},t)):P.map(e=>(0,s.jsx)(d,{label:e,checked:p.includes(e),onChange:()=>q(e)},e)))]}),(0,s.jsxs)("div",{className:"mb-6",id:"locations",children:[(0,s.jsxs)("button",{onClick:()=>F("locations"),className:"flex items-center justify-between w-full text-md font-semibold mb-2",children:["Locations",N.locations?(0,s.jsx)(c.A,{}):(0,s.jsx)(i.A,{})]}),N.locations&&(O?Array.from({length:5}).map((e,t)=>(0,s.jsx)(m,{},t)):I.map(e=>(0,s.jsx)(d,{label:e,checked:g===e,onChange:()=>T(e)},e)))]})]}),(0,s.jsxs)("section",{className:"col-span-3","aria-labelledby":"results-heading",children:[(0,s.jsx)("h2",{id:"results-heading",className:"sr-only",children:"Search Results"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"search-bar",className:"sr-only",children:"Search"}),(0,s.jsx)("input",{id:"search-bar",type:"text",value:b,onChange:e=>y(e.target.value),placeholder:"Search for articles, learning and more...",className:"border border-gray-300 px-4 py-2 w-full rounded"})]}),(0,s.jsx)(u.A,{cards:E,filters:{byQuery:j,byCategory:r,byType:p,byLocation:g},paginated:!0,perRow:3,pageCount:v,onPageChange:e=>S(e)})]})]})})})}function p(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"p-4 text-gray-500",children:"Loading..."}),children:(0,s.jsx)(h,{})})}},8510:(e,t,r)=>{"use strict";let s;r.d(t,{A:()=>o,b:()=>l});var a=r(2115);let n=!1,l=()=>{n||((s=r(5862)).SCORM.init(),n=!0)},o=()=>{let[e,t]=(0,a.useState)(()=>{let e=localStorage.getItem("interactionIndex");return e?parseInt(e,10):0}),r=(0,a.useRef)(e);(0,a.useEffect)(()=>{if(n){let e=o("cmi.interactions._count"),s=e?parseInt(e,10):0;t(s),r.current=s}},[]),(0,a.useEffect)(()=>{localStorage.setItem("interactionIndex",e)},[e]);let l=(e,t)=>{n&&s.SCORM.set(e,t)},o=e=>n?s.SCORM.get(e):null;return{setScormData:l,setLocation:e=>{let s=crypto.randomUUID();console.log("setting location with id ".concat(r.current)),l("cmi.interactions.".concat(r.current,".id"),s),l("cmi.interactions.".concat(r.current,".type"),"fill-in"),l("cmi.interactions.".concat(r.current,".student_response"),e),l("cmi.interactions.".concat(r.current,".time"),new Date().toISOString());let a=r.current+1;t(a),r.current=a}}}},9327:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(2115),a=r(7822),n=Object.defineProperty,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,i=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&i(e,r,t[r]);if(l)for(var r of l(t))c.call(t,r)&&i(e,r,t[r]);return e},d=(0,s.forwardRef)((e,t)=>{let r=u(u({},s.useContext(a.h)),e);return s.createElement("svg",u({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),s.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))})},4708:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(2115),a=r(7822),n=Object.defineProperty,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,i=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&i(e,r,t[r]);if(l)for(var r of l(t))c.call(t,r)&&i(e,r,t[r]);return e},d=(0,s.forwardRef)((e,t)=>{let r=u(u({},s.useContext(a.h)),e);return s.createElement("svg",u({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),s.createElement("path",{d:"M6 15L12 9L18 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[586,934,245,53,441,517,358],()=>t(4913)),_N_E=e.O()}]);