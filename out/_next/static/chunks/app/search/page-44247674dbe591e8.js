(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{4913:(e,t,r)=>{Promise.resolve().then(r.bind(r,6306))},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},6306:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(5155),a=r(2115),n=r(6046),l=r(1950),o=r(4708),i=r(9327),c=r(8036);let u=e=>{let{label:t,checked:r,onChange:a}=e,n=t.toLowerCase().replace(/\s+/g,"_");return(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)("input",{id:n,type:"checkbox",className:"h-4 w-4 accent-primary border-gray-300 rounded focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-primary",checked:r,onChange:a,"aria-checked":r}),(0,s.jsx)("label",{htmlFor:n,className:"ml-3 text-sm text-gray-900",children:t})]})},d=()=>(0,s.jsxs)("div",{className:"flex items-center mb-2","aria-hidden":"true",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-gray-400 animate-pulse rounded mr-2",role:"presentation"}),(0,s.jsx)("div",{className:"h-4 w-32 bg-gray-400 animate-pulse rounded",role:"presentation"})]});function m(){let e=(0,n.useSearchParams)(),t=(0,n.usePathname)(),[r,m]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[f,g]=(0,a.useState)(""),[x,b]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[w,v]=(0,a.useState)(1),[S,N]=(0,a.useState)({categories:!1,types:!1,locations:!1}),{data:k,isLoading:C}=(0,l.u)(),{courses:P=[]}=k,L=[...new Set([...P.flatMap(e=>e.categories)||[]])],O=[...new Set(P.map(e=>e.type))],E=[...new Set(P.filter(e=>"Event"===e.type).flatMap(e=>e.events?e.events.map(e=>e.location):[]))];(0,a.useEffect)(()=>{let t=e.get("query")||"",r=e.get("category"),s=e.get("type"),a=e.get("location");r&&m(r.split(",")),s&&p(s.split(",")),a&&g(a),b(t),j(t)},[]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{j(x),""!=x&&setLocation("Searching with query: ".concat(x)),R(),A()},1e3);return()=>clearTimeout(e)},[x]),(0,a.useEffect)(()=>{R()},[r,h,f]);let A=()=>{v(1)},R=()=>{let s=new URLSearchParams(e.toString());x?s.set("query",x):s.delete("query"),r.length?s.set("category",r.join(",")):s.delete("category"),h.length?s.set("type",h.join(",")):s.delete("type"),f?s.set("location",f):s.delete("location");let a="".concat(t,"?").concat(s.toString());window.history.pushState(null,"",a)},_=e=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),A()},F=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),A()},q=e=>{g(t=>t===e?"":e),A()},M=e=>{N(t=>({...t,[e]:!t[e]}))};return(0,s.jsx)("main",{"aria-label":"Search results",children:(0,s.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)("aside",{className:"grid-cols-1","aria-labelledby":"filters-heading",children:[(0,s.jsx)("h1",{id:"filters-heading",className:"text-2xl font-semibold mb-4",children:"Filters"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("button",{onClick:()=>M("categories"),className:"flex items-center justify-between w-full text-md font-semibold mb-2",children:["Categories",S.categories?(0,s.jsx)(o.A,{}):(0,s.jsx)(i.A,{})]}),S.categories&&(C?Array.from({length:5}).map((e,t)=>(0,s.jsx)(d,{},t)):L.map(e=>(0,s.jsx)(u,{label:e,checked:r.includes(e),onChange:()=>_(e)},e)))]}),(0,s.jsxs)("div",{className:"mb-6",id:"types",children:[(0,s.jsxs)("button",{onClick:()=>M("types"),className:"flex items-center justify-between w-full text-md font-semibold mb-2",children:["Types",S.types?(0,s.jsx)(o.A,{}):(0,s.jsx)(i.A,{})]}),S.types&&(C?Array.from({length:5}).map((e,t)=>(0,s.jsx)(d,{},t)):O.map(e=>(0,s.jsx)(u,{label:e,checked:h.includes(e),onChange:()=>F(e)},e)))]}),E.length>0&&(0,s.jsxs)("div",{className:"mb-6",id:"locations",children:[(0,s.jsxs)("button",{onClick:()=>M("locations"),className:"flex items-center justify-between w-full text-md font-semibold mb-2",children:["Locations",S.locations?(0,s.jsx)(o.A,{}):(0,s.jsx)(i.A,{})]}),S.locations&&(C?Array.from({length:5}).map((e,t)=>(0,s.jsx)(d,{},t)):E.map(e=>(0,s.jsx)(u,{label:e,checked:f===e,onChange:()=>q(e)},e)))]})]}),(0,s.jsxs)("section",{className:"col-span-3","aria-labelledby":"results-heading",children:[(0,s.jsx)("h2",{id:"results-heading",className:"sr-only",children:"Search Results"}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"search-bar",className:"sr-only",children:"Search"}),(0,s.jsx)("input",{id:"search-bar",type:"text",value:x,onChange:e=>b(e.target.value),placeholder:"Search for articles, learning and more...",className:"border border-gray-300 px-4 py-2 w-full rounded"})]}),(0,s.jsx)(c.A,{cards:P,filters:{byQuery:y,byCategory:r,byType:h,byLocation:f},paginated:!0,perRow:3,pageCount:w,onPageChange:e=>v(e)})]})]})})})}function h(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"p-4 text-gray-500",children:"Loading..."}),children:(0,s.jsx)(m,{})})}},9327:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(2115),a=r(7822),n=Object.defineProperty,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&c(e,r,t[r]);if(l)for(var r of l(t))i.call(t,r)&&c(e,r,t[r]);return e},d=(0,s.forwardRef)((e,t)=>{let r=u(u({},s.useContext(a.h)),e);return s.createElement("svg",u({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),s.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))})},4708:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(2115),a=r(7822),n=Object.defineProperty,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&c(e,r,t[r]);if(l)for(var r of l(t))i.call(t,r)&&c(e,r,t[r]);return e},d=(0,s.forwardRef)((e,t)=>{let r=u(u({},s.useContext(a.h)),e);return s.createElement("svg",u({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},r),s.createElement("path",{d:"M6 15L12 9L18 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[586,934,53,441,517,358],()=>t(4913)),_N_E=e.O()}]);