(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{4913:(e,s,a)=>{Promise.resolve().then(a.bind(a,6306))},6046:(e,s,a)=>{"use strict";var l=a(6658);a.o(l,"notFound")&&a.d(s,{notFound:function(){return l.notFound}}),a.o(l,"useSearchParams")&&a.d(s,{useSearchParams:function(){return l.useSearchParams}})},6306:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var l=a(5155),r=a(2115),t=a(1950),n=a(6046),i=a(8036);let c=e=>{let{label:s,checked:a,onChange:r}=e,t=s.toLowerCase().replace(/\s+/g,"_");return(0,l.jsxs)("div",{className:"flex items-center mb-2",children:[(0,l.jsx)("input",{id:t,type:"checkbox",className:"h-4 w-4 accent-primary border-gray-300 rounded focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-primary",checked:a,onChange:r,"aria-checked":a}),(0,l.jsx)("label",{htmlFor:t,className:"ml-3 text-sm text-gray-900",children:s})]})},d=()=>(0,l.jsxs)("div",{className:"flex items-center mb-2","aria-hidden":"true",children:[(0,l.jsx)("div",{className:"w-5 h-5 bg-gray-400 animate-pulse rounded mr-2",role:"presentation"}),(0,l.jsx)("div",{className:"h-4 w-32 bg-gray-400 animate-pulse rounded",role:"presentation"})]});function o(){let e=(0,n.useSearchParams)(),[s,a]=(0,r.useState)([]),[o,m]=(0,r.useState)([]),[u,h]=(0,r.useState)(""),[x,p]=(0,r.useState)(""),[g,b]=(0,r.useState)(""),[f,y]=(0,r.useState)(1),{data:j,isLoading:N}=(0,t.u)(),{courses:v=[]}=j,S=[...new Set([...v.flatMap(e=>e.categories)||[]])],w=[...new Set(v.map(e=>e.type))],C=[...new Set(v.filter(e=>"Event"===e.type).flatMap(e=>e.events.map(e=>e.location)))];(0,r.useEffect)(()=>{let s=e.get("query")||"",l=e.get("category"),r=e.get("type"),t=e.get("location");l&&a(l.split(",")),r&&m(r.split(",")),t&&h(t),p(s),b(s)},[]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{b(x),k()},500);return()=>clearTimeout(e)},[x]);let k=()=>{y(1)},_=e=>{a(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]),k()},E=e=>{m(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e]),k()},F=e=>{h(s=>s===e?"":e),k()};return(0,l.jsx)("main",{"aria-label":"Search results",children:(0,l.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsxs)("aside",{className:"grid-cols-1","aria-labelledby":"filters-heading",children:[(0,l.jsx)("h1",{id:"filters-heading",className:"text-2xl font-semibold mb-4",children:"Filters"}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("p",{className:"text-md font-semibold mb-2",children:"Categories"}),N?Array.from({length:5}).map((e,s)=>(0,l.jsx)(d,{},s)):S.map(e=>(0,l.jsx)(c,{label:e,checked:s.includes(e),onChange:()=>_(e)},e))]}),(0,l.jsxs)("div",{className:"mb-6",id:"types",children:[(0,l.jsx)("p",{className:"text-md font-semibold mb-2",children:"Types"}),N?Array.from({length:5}).map((e,s)=>(0,l.jsx)(d,{},s)):w.map(e=>(0,l.jsx)(c,{label:e,checked:o.includes(e),onChange:()=>E(e)},e))]}),(0,l.jsxs)("div",{className:"mb-6",id:"locations",children:[(0,l.jsx)("p",{className:"text-md font-semibold mb-2",children:"Locations"}),N?Array.from({length:5}).map((e,s)=>(0,l.jsx)(d,{},s)):C.map(e=>(0,l.jsx)(c,{label:e,checked:u===e,onChange:()=>F(e)},e))]})]}),(0,l.jsxs)("section",{className:"col-span-3","aria-labelledby":"results-heading",children:[(0,l.jsx)("h2",{id:"results-heading",className:"sr-only",children:"Search Results"}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{htmlFor:"search-bar",className:"sr-only",children:"Search"}),(0,l.jsx)("input",{id:"search-bar",type:"text",value:x,onChange:e=>p(e.target.value),placeholder:"Search for articles, learning and more...",className:"border border-gray-300 px-4 py-2 w-full rounded"})]}),(0,l.jsx)(i.A,{cards:v,filters:{byQuery:g,byCategory:s,byType:o,byLocation:u},paginated:!0,perRow:3,pageCount:f,onPageChange:e=>y(e)})]})]})})})}function m(){return(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)("div",{className:"p-4 text-gray-500",children:"Loading..."}),children:(0,l.jsx)(o,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[586,934,53,441,517,358],()=>s(4913)),_N_E=e.O()}]);