(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{4913:(e,t,s)=>{Promise.resolve().then(s.bind(s,6306))},6306:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5155),a=s(2115),l=s(6046),n=s(1950),o=s(4708),i=s(9327),c=s(5217);let d=e=>{let{label:t,checked:s,onChange:a}=e,l=t.toLowerCase().replace(/\s+/g,"_");return(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{id:l,type:"checkbox",className:"h-4 w-4 accent-primary border-gray-300 rounded focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-primary",checked:s,onChange:a,"aria-checked":s}),(0,r.jsx)("label",{htmlFor:l,className:"ml-3 text-sm text-gray-900",children:t})]})},u=()=>(0,r.jsxs)("div",{className:"flex items-center mb-2","aria-hidden":"true",children:[(0,r.jsx)("div",{className:"w-5 h-5 bg-gray-400 animate-pulse rounded mr-2",role:"presentation"}),(0,r.jsx)("div",{className:"h-4 w-32 bg-gray-400 animate-pulse rounded",role:"presentation"})]});function m(){let e=(0,l.useSearchParams)(),t=(0,l.usePathname)(),[s,m]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[g,f]=(0,a.useState)(""),[x,b]=(0,a.useState)(""),[y,j]=(0,a.useState)(""),[w,v]=(0,a.useState)(1),[N,S]=(0,a.useState)({categories:!0,types:!0,locations:!0}),{data:k,isLoading:C}=(0,n.u)(),{courses:O=[]}=k,E=[...new Set([...O.flatMap(e=>e.categories)||[]])],L=[...new Set(O.map(e=>e.type))],A=[...new Set(O.filter(e=>"Event"===e.type).flatMap(e=>e.events?e.events.map(e=>e.location):[]))];(0,a.useEffect)(()=>{let t=e.get("query")||"",s=e.get("category"),r=e.get("type"),a=e.get("location");s&&m(s.split(",")),r&&p(r.split(",")),a&&f(a),b(t),j(t)},[]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{j(x),""!=x&&setLocation("Searching with query: ".concat(x)),_(),P()},1e3);return()=>clearTimeout(e)},[x]),(0,a.useEffect)(()=>{_()},[s,h,g]);let P=()=>{v(1)},_=()=>{let r=new URLSearchParams(e.toString());x?r.set("query",x):r.delete("query"),s.length?r.set("category",s.join(",")):r.delete("category"),h.length?r.set("type",h.join(",")):r.delete("type"),g?r.set("location",g):r.delete("location");let a="".concat(t,"?").concat(r.toString());window.history.pushState(null,"",a)},R=e=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),P()},q=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),P()},M=e=>{f(t=>t===e?"":e),P()},T=e=>{S(t=>({...t,[e]:!t[e]}))};return(0,r.jsx)("main",{"aria-label":"Search results",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("aside",{className:"grid-cols-1","aria-labelledby":"filters-heading",children:[(0,r.jsx)("h1",{id:"filters-heading",className:"text-2xl font-semibold mb-4",children:"Filters"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("button",{onClick:()=>T("categories"),className:"flex items-center justify-between w-full text-md font-semibold mb-2",children:["Categories",N.categories?(0,r.jsx)(o.A,{}):(0,r.jsx)(i.A,{})]}),N.categories&&(C?Array.from({length:5}).map((e,t)=>(0,r.jsx)(u,{},t)):E.map(e=>(0,r.jsx)(d,{label:e,checked:s.includes(e),onChange:()=>R(e)},e)))]}),(0,r.jsxs)("div",{className:"mb-6",id:"types",children:[(0,r.jsxs)("button",{onClick:()=>T("types"),className:"flex items-center justify-between w-full text-md font-semibold mb-2",children:["Types",N.types?(0,r.jsx)(o.A,{}):(0,r.jsx)(i.A,{})]}),N.types&&(C?Array.from({length:5}).map((e,t)=>(0,r.jsx)(u,{},t)):L.map(e=>(0,r.jsx)(d,{label:e,checked:h.includes(e),onChange:()=>q(e)},e)))]}),A.length>0&&(0,r.jsxs)("div",{className:"mb-6",id:"locations",children:[(0,r.jsxs)("button",{onClick:()=>T("locations"),className:"flex items-center justify-between w-full text-md font-semibold mb-2",children:["Locations",N.locations?(0,r.jsx)(o.A,{}):(0,r.jsx)(i.A,{})]}),N.locations&&(C?Array.from({length:5}).map((e,t)=>(0,r.jsx)(u,{},t)):A.map(e=>(0,r.jsx)(d,{label:e,checked:g===e,onChange:()=>M(e)},e)))]})]}),(0,r.jsxs)("section",{className:"col-span-3","aria-labelledby":"results-heading",children:[(0,r.jsx)("h2",{id:"results-heading",className:"sr-only",children:"Search Results"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"search-bar",className:"sr-only",children:"Search"}),(0,r.jsx)("input",{id:"search-bar",type:"text",value:x,onChange:e=>b(e.target.value),placeholder:"Search for articles, learning and more...",className:"border border-gray-300 px-4 py-2 w-full rounded"})]}),(0,r.jsx)(c.A,{cards:O,filters:{byQuery:y,byCategory:s,byType:h,byLocation:g},paginated:!0,perRow:3,pageCount:w,onPageChange:e=>v(e)})]})]})})})}function h(){return(0,r.jsx)(a.Suspense,{children:(0,r.jsx)(m,{})})}},9327:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var r=s(2115),a=s(7822),l=Object.defineProperty,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,c=(e,t,s)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,d=(e,t)=>{for(var s in t||(t={}))o.call(t,s)&&c(e,s,t[s]);if(n)for(var s of n(t))i.call(t,s)&&c(e,s,t[s]);return e},u=(0,r.forwardRef)((e,t)=>{let s=d(d({},r.useContext(a.h)),e);return r.createElement("svg",d({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),r.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))})},4708:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var r=s(2115),a=s(7822),l=Object.defineProperty,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,c=(e,t,s)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,d=(e,t)=>{for(var s in t||(t={}))o.call(t,s)&&c(e,s,t[s]);if(n)for(var s of n(t))i.call(t,s)&&c(e,s,t[s]);return e},u=(0,r.forwardRef)((e,t)=>{let s=d(d({},r.useContext(a.h)),e);return r.createElement("svg",d({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),r.createElement("path",{d:"M6 15L12 9L18 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[586,672,862,441,517,358],()=>t(4913)),_N_E=e.O()}]);