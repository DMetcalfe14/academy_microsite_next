(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{7305:(e,t,s)=>{Promise.resolve().then(s.bind(s,8230))},8230:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(5155);s(347),s(819);var i=s(1950),l=s(9827),r=s(5862),n=s.n(r);let o={isInitialized:!1,init:function(){n().SCORM.version="2004";let e=n().SCORM.init();return this.isInitialized=e,console.log("SCORM initialized:",e),e},getLessonStatus:function(){return this.isInitialized?n().SCORM.get("cmi.completion_status")||"unknown":null},setLessonStatus:function(e){return!!this.isInitialized&&(n().SCORM.set("cmi.completion_status",e),n().SCORM.save())},getScore:function(){return this.isInitialized?parseFloat(n().SCORM.get("cmi.score.raw"))||0:null},setScore:function(e){return!!this.isInitialized&&(n().SCORM.set("cmi.score.raw",e),n().SCORM.save())},getSuspendData:function(){if(!this.isInitialized)return null;try{return JSON.parse(n().SCORM.get("cmi.suspend_data"))||{}}catch(e){return console.error("Error parsing suspend data:",e),{}}},setSuspendData:function(e){return!!this.isInitialized&&(n().SCORM.set("cmi.suspend_data",JSON.stringify(e)),n().SCORM.save())},finish:function(){if(!this.isInitialized)return!1;n().SCORM.set("cmi.exit","suspend"),n().SCORM.save(),n().SCORM.quit(),this.isInitialized=!1,console.log("SCORM session finished.")}},c=!1,u=(0,l.v)((e,t)=>({lessonStatus:"not attempted",score:0,suspendData:{},initScorm:()=>{!c&&(console.log("Initializing SCORM..."),o.init()&&(e({lessonStatus:o.getLessonStatus()||"not attempted",score:o.getScore()||0,suspendData:o.getSuspendData()||{}}),c=!0))},updateLessonStatus:t=>{o.setLessonStatus(t),e({lessonStatus:t})},updateScore:t=>{o.setScore(t),e({score:t})},updateSuspendData:t=>{o.setSuspendData(t),e({suspendData:t})},finishScorm:()=>{o.finish(),console.log("SCORM session ended.")}}));var d=s(2115),h=s(4380),m=s(9129),p=s(6309),f=s(5565),g=s(6046);let x=()=>{let e=(0,g.useRouter)(),t=(0,g.usePathname)(),s=(0,g.useSearchParams)(),{data:l}=(0,i.u)()||{},{courses:r=[],articles:n=[],discover:o=[]}=l||{},[c,u]=(0,d.useState)(""),[x,b]=(0,d.useState)([]),[S,v]=(0,d.useState)(!1),[y,j]=(0,d.useState)(null);(0,d.useEffect)(()=>{null!==y&&document.getElementById("search").setAttribute("aria-activedescendant","suggestion-".concat(y))},[y]);let w=e=>{let t=e.target.value;u(t),t?b(r.filter(e=>e.title.toLowerCase().includes(t.toLowerCase())).slice(0,3)):b([]),j(null)},C=e=>{k(e.title)},N=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),j(e=>null===e?0:Math.min(e+1,x.length-1));break;case"ArrowUp":e.preventDefault(),j(e=>null===e?x.length-1:Math.max(e-1,0));break;case"Enter":e.preventDefault(),null!==y&&x[y]&&k(x[y].title);break;case"Escape":b([]),j(null)}},k=e=>{u(e),b([]),j(null),setTimeout(()=>{let e=document.getElementById("search-form");e&&e.submit()},200)};return(0,d.useEffect)(()=>{let a="".concat(t).concat(s.toString()?"?".concat(s.toString()):"");e.push(a)},[t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("nav",{className:"bg-primary sticky top-0 w-full z-[100]",role:"navigation","aria-label":"Main navigation",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex items-center flex-shrink-0",children:(0,a.jsxs)("a",{href:"index.html",className:"cursor-pointer text-label font-semibold flex items-center gap-3","aria-label":"Go to homepage",children:[(0,a.jsx)(f.default,{src:"logo.png",alt:"HMRC logo",width:"30",height:"30"}),(0,a.jsx)("span",{className:"whitespace-nowrap text-sm sm:text-base",children:"Leadership & Management Capability Academy"})]})}),(0,a.jsx)("div",{className:"hidden lg:flex flex-1 max-w-xl ml-8",children:(0,a.jsxs)("form",{id:"search-form",className:"w-full flex gap-3 relative",action:"search.html","aria-label":"Search form",children:[(0,a.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search"}),(0,a.jsx)("input",{id:"search",name:"query",type:"text",autoComplete:"off",value:c,onChange:w,onKeyDown:N,className:"w-full rounded-md bg-white px-3.5 py-2 text-sm placeholder:text-gray-500 focus:outline-primary",placeholder:"Search for articles, learning and more...",role:"combobox","aria-controls":"suggestions-list","aria-expanded":x.length>0,"aria-autocomplete":"list","aria-haspopup":"listbox"}),x.length>0&&(0,a.jsx)("div",{id:"suggestions-list",className:"absolute top-full left-0 right-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-[200]",role:"listbox","aria-label":"Search suggestions",children:x.map((e,t)=>(0,a.jsx)("div",{id:"suggestion-".concat(t),className:"p-2 cursor-pointer hover:bg-gray-100 ".concat(y===t?"bg-gray-100":""),role:"option","aria-selected":y===t,onClick:()=>C(e),onMouseEnter:()=>j(t),onKeyDown:t=>"Enter"===t.key&&C(e),tabIndex:0,children:e.title},t))}),(0,a.jsx)(p.default,{type:"submit",variant:"white",className:"flex-shrink-0",children:"Search"})]})}),(0,a.jsx)("div",{className:"lg:hidden flex items-center",children:(0,a.jsx)("button",{className:"text-label focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-primary",type:"button",onClick:()=>v(!S),"aria-expanded":S,"aria-controls":"mobile-search","aria-label":S?"Close search":"Open search",children:(0,a.jsx)(h.A,{})})})]}),S&&(0,a.jsx)("div",{className:"lg:hidden mt-4",children:(0,a.jsxs)("form",{id:"mobile-search",className:"w-full flex gap-3 relative",action:"search.html","aria-label":"Mobile search",children:[(0,a.jsx)("input",{id:"mobile-search-input",name:"query",type:"text",autoComplete:"off",value:c,onChange:w,onKeyDown:N,className:"w-full rounded-md bg-white px-3.5 py-2 text-sm placeholder:text-gray-500 focus:outline-primary",placeholder:"Search for articles...",role:"combobox","aria-controls":"mobile-suggestions","aria-expanded":x.length>0}),(0,a.jsx)(p.default,{type:"submit",variant:"white",className:"flex-shrink-0",children:"Search"}),x.length>0&&(0,a.jsx)("div",{id:"mobile-suggestions",className:"absolute top-full left-0 right-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-[200]",role:"listbox",children:x.map((e,t)=>(0,a.jsx)("div",{className:"p-2 cursor-pointer hover:bg-gray-100 ".concat(y===t?"bg-gray-100":""),role:"option",onClick:()=>C(e),children:e.title},t))})]})})]})}),["/details.html","/discover.html","/page.html"].some(e=>t.includes(e))&&(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative",children:(0,a.jsxs)("button",{onClick:()=>{history.length>1?e.back():e.push("/")},className:"absolute z-50 mt-4 inline-flex items-center border border-transparent text-sm font-medium text-label","aria-label":"Go back to previous page",children:[(0,a.jsx)(m.A,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Back"]})})]})};function b(){return(0,a.jsx)(d.Suspense,{children:(0,a.jsx)(x,{})})}function S(e){let{children:t}=e,s=u(e=>e.initScorm);return(0,d.useEffect)(()=>{s()},[s]),(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{children:(0,a.jsxs)(i.A,{children:[(0,a.jsx)(b,{}),t]})})})}},6309:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(5155);let i=(0,s(2115).forwardRef)((e,t)=>{let{as:s="button",type:i="button",href:l,variant:r="primary",className:n="",children:o,...c}=e,u="a"===s?{role:"button",tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.target.click())}}:{};return(0,a.jsx)(s,{ref:t,type:"button"===s?i:void 0,href:l,className:"".concat("flex-none rounded-md px-3.5 py-2.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"," ").concat({primary:"bg-primary text-label hover:bg-primary_hover focus-visible:outline-primary",white:"bg-white text-label hover:bg-gray-50 border-2 border-gray-100 focus-visible:outline-primary"}[r]," ").concat(n),...u,...c,children:o})})},1950:(e,t,s)=>{"use strict";s.d(t,{A:()=>r,u:()=>n});var a=s(5155),i=s(2115);let l=(0,i.createContext)(),r=e=>{let{children:t}=e,[s,r]=(0,i.useState)({}),[n,o]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{try{let e=["articles.json","courses.json","discover.json","featured.json","featured_home.json","links.json","slides.json","steps.json"],t=e.map(e=>fetch("".concat(e)).then(t=>{if(!t.ok)throw Error("Failed to fetch ".concat(e));return t.json()}).catch(t=>{throw console.error("Error fetching ".concat(e,":"),t),t})),s=await Promise.all(t),a=e.reduce((e,t,a)=>(e[t.replace(".json","")]=s[a],e),{});r(a)}catch(e){u(e),console.error("Error fetching JSON files:",e)}finally{o(!1)}})()},[]),(0,a.jsx)(l.Provider,{value:{data:s,isLoading:n,error:c},children:t})},n=()=>(0,i.useContext)(l)},347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[141,884,441,517,358],()=>t(7305)),_N_E=e.O()}]);