(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{7305:(e,t,a)=>{Promise.resolve().then(a.bind(a,4059))},4059:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(5155);a(347),a(819);var r=a(2115);a(6046);var s=a(1950),o=a(4380),i=a(6309),n=a(5565);let c=()=>{let{data:e}=(0,s.u)()||{},{courses:t=[]}=e||{},[a,c]=(0,r.useState)(""),[u,d]=(0,r.useState)([]),[h,m]=(0,r.useState)(!1),[f,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{null!==f&&document.getElementById("search").setAttribute("aria-activedescendant","suggestion-".concat(f))},[f]);let p=e=>{let a=e.target.value;c(a),a?d(t.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())).slice(0,3)):d([]),x(null)},g=e=>{y(e.title)},b=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),x(e=>null===e?0:Math.min(e+1,u.length-1));break;case"ArrowUp":e.preventDefault(),x(e=>null===e?u.length-1:Math.max(e-1,0));break;case"Enter":e.preventDefault(),null!==f&&u[f]&&y(u[f].title);break;case"Escape":d([]),x(null)}},y=e=>{c(e),d([]),x(null),setTimeout(()=>{let e=document.getElementById("search-form");e&&e.submit()},200)};return(0,l.jsx)("nav",{className:"bg-primary sticky top-0 w-full z-[100]",role:"navigation","aria-label":"Main navigation",children:(0,l.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,l.jsx)("div",{className:"flex items-center flex-shrink-0",children:(0,l.jsxs)("a",{href:"index.html",className:"cursor-pointer text-white font-semibold flex items-center gap-3","aria-label":"Go to homepage",children:[(0,l.jsx)(n.default,{src:"logo.png",alt:"HMRC logo",width:"30",height:"30"}),(0,l.jsx)("span",{className:"whitespace-nowrap text-sm sm:text-base",children:"Leadership & Management Capability Academy"})]})}),(0,l.jsxs)("div",{className:"hidden lg:flex flex-1 max-w-xl ml-8",children:[" ",(0,l.jsxs)("form",{id:"search-form",className:"w-full flex gap-3 relative",action:"search.html","aria-label":"Search form",children:[(0,l.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search"}),(0,l.jsx)("input",{id:"search",name:"query",type:"text",autoComplete:"off",value:a,onChange:p,onKeyDown:b,className:"w-full rounded-md bg-white px-3.5 py-2 text-sm placeholder:text-gray-500 focus:outline-primary",placeholder:"Search for articles, learning and more...",role:"combobox","aria-controls":"suggestions-list","aria-expanded":u.length>0,"aria-autocomplete":"list","aria-haspopup":"listbox"}),u.length>0&&(0,l.jsx)("div",{id:"suggestions-list",className:"absolute top-full left-0 right-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-[200]",role:"listbox","aria-label":"Search suggestions",children:u.map((e,t)=>(0,l.jsx)("div",{id:"suggestion-".concat(t),className:"p-2 cursor-pointer hover:bg-gray-100 ".concat(f===t?"bg-gray-100":""),role:"option","aria-selected":f===t,onClick:()=>g(e),onMouseEnter:()=>x(t),onKeyDown:t=>"Enter"===t.key&&g(e),tabIndex:0,children:e.title},t))}),(0,l.jsx)(i.default,{type:"submit",variant:"white",className:"flex-shrink-0",children:"Search"})]})]}),(0,l.jsx)("div",{className:"lg:hidden flex items-center",children:(0,l.jsx)("button",{className:"text-white focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-primary",type:"button",onClick:()=>m(!h),"aria-expanded":h,"aria-controls":"mobile-search","aria-label":h?"Close search":"Open search",children:(0,l.jsx)(o.A,{})})})]}),h&&(0,l.jsx)("div",{className:"lg:hidden mt-4",children:(0,l.jsxs)("form",{id:"mobile-search",className:"w-full flex gap-3 relative",action:"search.html","aria-label":"Mobile search",children:[(0,l.jsx)("input",{id:"mobile-search-input",name:"query",type:"text",autoComplete:"off",value:a,onChange:p,onKeyDown:b,className:"w-full rounded-md bg-white px-3.5 py-2 text-sm placeholder:text-gray-500 focus:outline-primary",placeholder:"Search for articles...",role:"combobox","aria-controls":"mobile-suggestions","aria-expanded":u.length>0}),(0,l.jsx)(i.default,{type:"submit",variant:"white",className:"flex-shrink-0",children:"Search"}),u.length>0&&(0,l.jsx)("div",{id:"mobile-suggestions",className:"absolute top-full left-0 right-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-[200]",role:"listbox",children:u.map((e,t)=>(0,l.jsx)("div",{className:"p-2 cursor-pointer hover:bg-gray-100 ".concat(f===t?"bg-gray-100":""),role:"option",onClick:()=>g(e),children:e.title},t))})]})})]})})};function u(e){let{children:t}=e;return(0,l.jsx)("html",{lang:"en",children:(0,l.jsx)("body",{children:(0,l.jsxs)(s.A,{children:[(0,l.jsx)(c,{}),t]})})})}},6309:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var l=a(5155);let r=(0,a(2115).forwardRef)((e,t)=>{let{as:a="button",type:r="button",href:s,variant:o="primary",className:i="",children:n,...c}=e,u="a"===a?{role:"button",tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.target.click())}}:{};return(0,l.jsx)(a,{ref:t,type:"button"===a?r:void 0,href:s,className:"".concat("flex-none rounded-md px-3.5 py-2.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"," ").concat({primary:"bg-primary text-white hover:bg-primary_hover focus-visible:outline-primary",white:"bg-white text-primary hover:bg-gray-50 border-2 border-gray-100 focus-visible:outline-primary"}[o]," ").concat(i),...u,...c,children:n})})},1950:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,u:()=>i});var l=a(5155),r=a(2115);let s=(0,r.createContext)(),o=e=>{let{children:t}=e,[a,o]=(0,r.useState)({}),[i,n]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{let e=["articles.json","courses.json","discover.json","featured.json","links.json","slides.json"],t=e.map(e=>fetch("".concat(e)).then(t=>{if(!t.ok)throw Error("Failed to fetch ".concat(e));return t.json()}).catch(t=>{throw console.error("Error fetching ".concat(e,":"),t),t})),a=await Promise.all(t),l=e.reduce((e,t,l)=>(e[t.replace(".json","")]=a[l],e),{});o(l)}catch(e){u(e),console.error("Error fetching JSON files:",e)}finally{n(!1)}})()},[]),(0,l.jsx)(s.Provider,{value:{data:a,isLoading:i,error:c},children:t})},i=()=>(0,r.useContext)(s)},347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[141,294,441,517,358],()=>t(7305)),_N_E=e.O()}]);