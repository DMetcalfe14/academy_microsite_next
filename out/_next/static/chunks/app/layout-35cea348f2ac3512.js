(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{7305:(e,t,s)=>{Promise.resolve().then(s.bind(s,8230))},8230:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(5155);s(347),s(819);var l=s(1950),i=s(6878),r=s(9827),n=s(5862),o=s.n(n);let c={isInitialized:!1,init:function(){o().SCORM.version="2004";let e=o().SCORM.init();return this.isInitialized=e,console.log("SCORM initialized:",e),e},getLessonStatus:function(){return this.isInitialized?o().SCORM.get("cmi.completion_status")||"unknown":null},setLessonStatus:function(e){return!!this.isInitialized&&(o().SCORM.set("cmi.completion_status",e),o().SCORM.save())},getScore:function(){return this.isInitialized?parseFloat(o().SCORM.get("cmi.score.raw"))||0:null},setScore:function(e){return!!this.isInitialized&&(o().SCORM.set("cmi.score.raw",e),o().SCORM.save())},getSuspendData:function(){if(!this.isInitialized)return null;try{return JSON.parse(o().SCORM.get("cmi.suspend_data"))||{}}catch(e){return console.error("Error parsing suspend data:",e),{}}},setSuspendData:function(e){return!!this.isInitialized&&(o().SCORM.set("cmi.suspend_data",JSON.stringify(e)),o().SCORM.save())},finish:function(){if(!this.isInitialized)return!1;o().SCORM.set("cmi.exit","suspend"),o().SCORM.save(),o().SCORM.quit(),this.isInitialized=!1,console.log("SCORM session finished.")}},u=!1,d=(0,r.v)((e,t)=>({lessonStatus:"not attempted",score:0,suspendData:{},initScorm:()=>{!u&&(console.log("Initializing SCORM..."),c.init()&&(e({lessonStatus:c.getLessonStatus()||"not attempted",score:c.getScore()||0,suspendData:c.getSuspendData()||{}}),u=!0))},updateLessonStatus:t=>{c.setLessonStatus(t),e({lessonStatus:t})},updateScore:t=>{c.setScore(t),e({score:t})},updateSuspendData:t=>{c.setSuspendData(t),e({suspendData:t})},finishScorm:()=>{c.finish(),console.log("SCORM session ended.")}}));var h=s(2115),m=s(6408),f=s(4380),p=s(9129),x=s(6309),g=s(5565),b=s(6046);let S=()=>{let e=(0,b.useRouter)(),t=(0,b.usePathname)(),s=(0,b.useSearchParams)(),{startTour:r,hasTour:n}=(0,i.M)(),{data:o}=(0,l.u)()||{},{courses:c=[],articles:u=[],discover:d=[]}=o||{},[S,v]=(0,h.useState)(""),[y,j]=(0,h.useState)([]),[w,C]=(0,h.useState)(!1),[N,k]=(0,h.useState)(null);(0,h.useEffect)(()=>{null!==N&&document.getElementById("search").setAttribute("aria-activedescendant","suggestion-".concat(N))},[N]);let M=e=>{let t=e.target.value;v(t),t?j(c.filter(e=>e.title.toLowerCase().includes(t.toLowerCase())).slice(0,3)):j([]),k(null)},O=e=>{E(e.title)},R=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),k(e=>null===e?0:Math.min(e+1,y.length-1));break;case"ArrowUp":e.preventDefault(),k(e=>null===e?y.length-1:Math.max(e-1,0));break;case"Enter":e.preventDefault(),null!==N&&y[N]&&E(y[N].title);break;case"Escape":j([]),k(null)}},E=e=>{v(e),j([]),k(null),setTimeout(()=>{let e=document.getElementById("search-form");e&&e.submit()},200)};return(0,h.useEffect)(()=>{let a="".concat(t).concat(s.toString()?"?".concat(s.toString()):"");e.push(a)},[t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("nav",{className:"bg-primary sticky top-0 w-full z-[100]",role:"navigation","aria-label":"Main navigation",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex items-center flex-shrink-0",children:(0,a.jsxs)("a",{href:"index.html",className:"cursor-pointer text-label font-semibold flex items-center gap-3","aria-label":"Go to homepage",children:[(0,a.jsx)(g.default,{src:"logo.png",alt:"HMRC logo",width:"30",height:"30"}),(0,a.jsx)("span",{className:"whitespace-nowrap text-sm sm:text-base",children:"Leadership & Management Capability Academy"})]})}),(0,a.jsxs)("div",{className:"flex flex-1 justify-end",children:[(0,a.jsx)("div",{className:"hidden lg:flex flex-1 max-w-xl ml-8",children:(0,a.jsxs)("form",{id:"search-form",className:"w-full flex gap-3 relative",action:"search.html","aria-label":"Search form",children:[(0,a.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search"}),(0,a.jsx)("input",{id:"search",name:"query",type:"text",autoComplete:"off",value:S,onChange:M,onKeyDown:R,className:"w-full rounded-md bg-white px-3.5 py-2 text-sm placeholder:text-gray-500 focus:outline-primary",placeholder:"Search for articles, learning and more...",role:"combobox","aria-controls":"suggestions-list","aria-expanded":y.length>0,"aria-autocomplete":"list","aria-haspopup":"listbox"}),y.length>0&&(0,a.jsx)("div",{id:"suggestions-list",className:"absolute top-full left-0 right-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-[200]",role:"listbox","aria-label":"Search suggestions",children:y.map((e,t)=>(0,a.jsx)("div",{id:"suggestion-".concat(t),className:"p-2 cursor-pointer hover:bg-gray-100 ".concat(N===t?"bg-gray-100":""),role:"option","aria-selected":N===t,onClick:()=>O(e),onMouseEnter:()=>k(t),onKeyDown:t=>"Enter"===t.key&&O(e),tabIndex:0,children:e.title},t))}),(0,a.jsx)(x.default,{type:"submit",variant:"white",className:"flex-shrink-0",children:"Search"})]})}),(0,a.jsx)("div",{children:n&&(0,a.jsx)(x.default,{onClick:()=>r(),className:"ml-4 text-label focus-visible:outline-white hidden sm:block","aria-label":"Start user tour",title:"Start user tour",children:(0,a.jsx)(m.A,{})})})]}),(0,a.jsx)("div",{className:"lg:hidden flex items-center",children:(0,a.jsx)("button",{className:"text-label focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-primary",type:"button",onClick:()=>C(!w),"aria-expanded":w,"aria-controls":"mobile-search","aria-label":w?"Close search":"Open search",children:(0,a.jsx)(f.A,{})})})]}),w&&(0,a.jsx)("div",{className:"lg:hidden mt-4",children:(0,a.jsxs)("form",{id:"mobile-search",className:"w-full flex gap-3 relative",action:"search.html","aria-label":"Mobile search",children:[(0,a.jsx)("input",{id:"mobile-search-input",name:"query",type:"text",autoComplete:"off",value:S,onChange:M,onKeyDown:R,className:"w-full rounded-md bg-white px-3.5 py-2 text-sm placeholder:text-gray-500 focus:outline-primary",placeholder:"Search for articles...",role:"combobox","aria-controls":"mobile-suggestions","aria-expanded":y.length>0}),(0,a.jsx)(x.default,{type:"submit",variant:"white",className:"flex-shrink-0",children:"Search"}),y.length>0&&(0,a.jsx)("div",{id:"mobile-suggestions",className:"absolute top-full left-0 right-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-[200]",role:"listbox",children:y.map((e,t)=>(0,a.jsx)("div",{className:"p-2 cursor-pointer hover:bg-gray-100 ".concat(N===t?"bg-gray-100":""),role:"option",onClick:()=>O(e),children:e.title},t))})]})})]})}),["/details.html","/discover.html","/page.html"].some(e=>t.includes(e))&&(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative",children:(0,a.jsxs)("button",{onClick:()=>{history.length>1?e.back():e.push("/")},className:"absolute z-50 mt-4 inline-flex items-center border border-transparent text-sm font-medium text-white","aria-label":"Go back to previous page",children:[(0,a.jsx)(p.A,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Back"]})})]})};function v(){return(0,a.jsx)(h.Suspense,{children:(0,a.jsx)(S,{})})}function y(e){let{children:t}=e,s=d(e=>e.initScorm);return(0,h.useEffect)(()=>{s()},[s]),(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{children:(0,a.jsx)(l.A,{children:(0,a.jsxs)(i.A,{children:[(0,a.jsx)(v,{}),t]})})})})}},6309:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(5155);let l=(0,s(2115).forwardRef)((e,t)=>{let{as:s="button",type:l="button",href:i,variant:r="primary",className:n="",disabled:o=!1,children:c,...u}=e,d="a"===s?{role:"button",tabIndex:o?-1:0,onKeyDown:e=>{o||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.target.click())}}:{};return(0,a.jsx)(s,{ref:t,type:"button"===s?l:void 0,href:o?void 0:i,className:"".concat("flex-none rounded-md px-3.5 py-2.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"," ").concat({primary:"bg-primary text-label hover:bg-primary_hover focus-visible:outline-primary",white:"bg-white text-label hover:bg-gray-50 border-2 border-gray-100 focus-visible:outline-white"}[r]," ").concat(o?"!bg-gray-400 cursor-not-allowed":""," ").concat(n),disabled:"button"===s?o:void 0,...d,...u,onClick:o?void 0:u.onClick,children:c})})},1950:(e,t,s)=>{"use strict";s.d(t,{A:()=>r,u:()=>n});var a=s(5155),l=s(2115);let i=(0,l.createContext)(),r=e=>{let{children:t}=e,[s,r]=(0,l.useState)({}),[n,o]=(0,l.useState)(!0),[c,u]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{try{let e=["articles.json","courses.json","discover.json","featured.json","featured_home.json","links.json","slides.json","tours.json"],t=e.map(e=>fetch("".concat(e)).then(t=>{if(!t.ok)throw Error("Failed to fetch ".concat(e));return t.json()}).catch(t=>{throw console.error("Error fetching ".concat(e,":"),t),t})),s=await Promise.all(t),a=e.reduce((e,t,a)=>(e[t.replace(".json","")]=s[a],e),{});r(a)}catch(e){u(e),console.error("Error fetching JSON files:",e)}finally{o(!1)}})()},[]),(0,a.jsx)(i.Provider,{value:{data:s,isLoading:n,error:c},children:t})},n=()=>(0,l.useContext)(i)},6878:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,M:()=>c});var a=s(5155),l=s(2115),i=s(86);s(9724);var r=s(6046);let n=(0,l.createContext)();function o(e){let{children:t}=e,[s,o]=(0,l.useState)(null),[c,u]=(0,l.useState)(null),d=(0,r.usePathname)();return(0,l.useEffect)(()=>{if(c){let e=new i.A.Tour({useModalOverlay:!1,defaultStepOptions:{classes:"p-6 rounded-lg z-50",scrollTo:!0}});c.steps.forEach(t=>{e.addStep({...t,buttons:t.buttons.map(t=>({text:t.text,classes:t.classes,action:e[t.action]?e[t.action].bind(e):e.complete.bind(e)}))})}),o(e),localStorage.getItem("seenTour-".concat(d))||(e.start(),localStorage.setItem("seenTour-".concat(d),"true"))}},[c]),(0,a.jsx)(n.Provider,{value:{setTourConfig:u,startTour:()=>{s&&s.start()},hasTour:!!c},children:t})}function c(){return(0,l.useContext)(n)}},347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[141,261,656,722,441,517,358],()=>t(7305)),_N_E=e.O()}]);