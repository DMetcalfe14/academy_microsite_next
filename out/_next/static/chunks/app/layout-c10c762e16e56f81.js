(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{7305:(e,t,s)=>{Promise.resolve().then(s.bind(s,5388))},5388:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var a=s(5155);s(347),s(819);var l=s(1950),n=s(6878),r=s(2115),i=s(6046);let o="siteHistoryStack",c=(0,r.createContext)();function u(e){return e.split("?")[0]}function d(e){let{children:t}=e,s=(0,i.useRouter)(),l=(0,i.usePathname)(),[n,d]=(0,r.useState)(l),[h,m]=(0,r.useState)([]),[x,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{d(window.location.pathname+window.location.search)},[l]),(0,r.useEffect)(()=>{let e=[];try{e=JSON.parse(sessionStorage.getItem(o)||"[]")}catch(t){e=[]}let t=e[e.length-1],s=t?u(t):null,a=u(n);t!==n&&(s===a&&t!==n?e[e.length-1]=n:e.push(n),sessionStorage.setItem(o,JSON.stringify(e))),m(e),p(e.length>1)},[n]);let f=(0,r.useCallback)(()=>{let e=[];try{e=JSON.parse(sessionStorage.getItem(o)||"[]")}catch(t){e=[]}if(e.length>1){e.pop();let t=e[e.length-1];sessionStorage.setItem(o,JSON.stringify(e)),m(e),p(e.length>1),s.push(t)}},[s]),g=(0,r.useCallback)(()=>{sessionStorage.setItem(o,JSON.stringify([n])),m([n]),p(!1)},[n]),b=(0,r.useCallback)(()=>{let e=[];try{e=JSON.parse(sessionStorage.getItem(o)||"[]")}catch(t){e=[]}let t=e[e.length-1],s=t?u(t):null,a=u(n);t!==n&&(s===a&&t!==n?e[e.length-1]=n:e.push(n),sessionStorage.setItem(o,JSON.stringify(e)),m(e),p(e.length>1))},[n]);return(0,a.jsx)(c.Provider,{value:{canGoBack:x,goBack:f,pushToStack:b,stack:h,resetHistory:g},children:t})}var h=s(9827),m=s(5862),x=s.n(m);let p={isInitialized:!1,init:function(){x().SCORM.version="2004";let e=x().SCORM.init();return this.isInitialized=e,console.log("SCORM initialized:",e),e},getLessonStatus:function(){return this.isInitialized?x().SCORM.get("cmi.completion_status")||"unknown":null},setLessonStatus:function(e){return!!this.isInitialized&&(x().SCORM.set("cmi.completion_status",e),x().SCORM.save())},getScore:function(){return this.isInitialized?parseFloat(x().SCORM.get("cmi.score.raw"))||0:null},setScore:function(e){return!!this.isInitialized&&(x().SCORM.set("cmi.score.raw",e),x().SCORM.save())},getSuspendData:function(){if(!this.isInitialized)return null;try{return JSON.parse(x().SCORM.get("cmi.suspend_data"))||{}}catch(e){return console.error("Error parsing suspend data:",e),{}}},setSuspendData:function(e){return!!this.isInitialized&&(x().SCORM.set("cmi.suspend_data",JSON.stringify(e)),x().SCORM.save())},finish:function(){if(!this.isInitialized)return!1;x().SCORM.set("cmi.exit","suspend"),x().SCORM.save(),x().SCORM.quit(),this.isInitialized=!1,console.log("SCORM session finished.")}},f=!1,g=(0,h.v)((e,t)=>({lessonStatus:"not attempted",score:0,suspendData:{},initScorm:()=>{!f&&(console.log("Initializing SCORM..."),p.init()&&(e({lessonStatus:p.getLessonStatus()||"not attempted",score:p.getScore()||0,suspendData:p.getSuspendData()||{}}),f=!0))},updateLessonStatus:t=>{p.setLessonStatus(t),e({lessonStatus:t})},updateScore:t=>{p.setScore(t),e({score:t})},updateSuspendData:t=>{p.setSuspendData(t),e({suspendData:t})},finishScorm:()=>{p.finish(),console.log("SCORM session ended.")}}));var b=s(9129),S=s(9327),j=s(1413),v=s(4380),y=s(6309),w=s(5565);let N=()=>{let e=(0,i.useRouter)();(0,i.usePathname)(),(0,i.useSearchParams)();let{canGoBack:t,goBack:s}=(0,r.useContext)(c),{startTour:o,hasTour:u}=(0,n.M)(),{data:d}=(0,l.u)()||{},{courses:h=[],categories:m=[]}=d||{},[x,p]=(0,r.useState)(""),[f,g]=(0,r.useState)([]),[N,k]=(0,r.useState)(!1),[C,O]=(0,r.useState)(null),[M,I]=(0,r.useState)(!1),[E,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>{null!==C&&document.getElementById("search").setAttribute("aria-activedescendant","suggestion-".concat(C))},[C]);let z=t=>{e.push("details.html?id=".concat(t.id))},D=e=>{p(e),g([]),O(null),setTimeout(()=>{let e=document.getElementById("search-form");e&&e.submit()},200)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("nav",{className:"bg-primary sticky top-0 w-full z-[100]",role:"navigation","aria-label":"Main navigation",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-shrink-0",children:[t&&(0,a.jsx)("button",{onClick:()=>{s()},"aria-label":"Go back",className:"text-black hover:text-primary-dark focus:outline-none hidden sm:block",type:"button",children:(0,a.jsx)(b.A,{})}),(0,a.jsxs)("a",{href:"index.html",className:"cursor-pointer text-label font-semibold flex items-center gap-3","aria-label":"Go to homepage",children:[(0,a.jsx)(w.default,{src:"logo.png",alt:"HMRC logo",width:"30",height:"30"}),(0,a.jsx)("span",{className:"whitespace-nowrap text-sm text-black",children:"Leadership & Management Capability Academy"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"hidden lg:flex items-center gap-6",children:[(0,a.jsx)("a",{href:"search.html",className:"text-black text-sm",children:"View Catalogue"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>I(!M),className:"text-black text-sm flex items-center gap-1","aria-haspopup":"true","aria-expanded":M,children:["Explore Capability Learning",(0,a.jsx)(S.A,{className:"transition-transform ".concat(M?"rotate-180":"")})]}),M&&!N&&(0,a.jsx)("div",{className:"absolute mt-2 bg-white border border-gray-200 rounded-md shadow-lg w-full",role:"menu",children:m.map(e=>(0,a.jsx)("a",{href:e.href?e.href:"search.html?category=".concat(e.title),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,children:e.title},e.title))})]}),u&&(0,a.jsx)("button",{onClick:()=>o(),className:"text-sm text-black","aria-label":"Start user tour",title:"Start user tour",children:"Start Tour"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>k(!N),className:"text-black","aria-label":"Toggle search",children:(0,a.jsx)(j.A,{})}),(0,a.jsx)("button",{className:"lg:hidden text-black",type:"button",onClick:()=>R(!E),"aria-expanded":E,"aria-controls":"mobile-menu","aria-label":E?"Close menu":"Open menu",children:(0,a.jsx)(v.A,{})})]})]})]}),E&&(0,a.jsxs)("div",{id:"mobile-menu",className:"lg:hidden mt-4",children:[(0,a.jsx)("a",{href:"/search.html",className:"block px-4 py-2 text-sm text-black",children:"View Catalogue"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>I(!M),className:"block w-full text-left px-4 py-2 text-sm text-black flex items-center justify-between",children:["Explore Capability Learning",(0,a.jsx)(S.A,{className:"transition-transform ".concat(M?"rotate-180":"")})]}),M&&(0,a.jsx)("div",{className:"mt-2 pl-4 w-full",children:m.map(e=>(0,a.jsx)("a",{href:e.href?e.href:"/search.html?category=".concat(e.title),className:"block px-4 py-2 text-sm text-black",children:e.title},e.title))})]}),u&&(0,a.jsx)("button",{onClick:()=>o(),className:"block px-4 py-2 text-sm text-black","aria-label":"Start user tour",title:"Start user tour",children:"Start Tour"})]}),N&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("form",{id:"search-form",className:"w-full flex gap-3 relative",action:"search.html","aria-label":"Search form",children:[(0,a.jsx)("input",{id:"search",name:"query",type:"text",autoComplete:"off",value:x,onChange:e=>{let t=e.target.value;p(t),t?g(h.filter(e=>e.title.toLowerCase().includes(t.toLowerCase())).slice(0,3)):g([]),O(null)},onKeyDown:e=>{switch(e.key){case"ArrowDown":e.preventDefault(),O(e=>null===e?0:Math.min(e+1,f.length-1));break;case"ArrowUp":e.preventDefault(),O(e=>null===e?f.length-1:Math.max(e-1,0));break;case"Enter":e.preventDefault(),null!==C&&f[C]&&D(f[C].title);break;case"Escape":g([]),O(null)}},className:"w-full rounded-md bg-white px-3.5 py-2 text-sm placeholder:text-gray-500 focus:outline-primary",placeholder:"Search for articles, learning and more...",role:"combobox","aria-controls":"suggestions-list","aria-expanded":f.length>0,"aria-autocomplete":"list","aria-haspopup":"listbox"}),(0,a.jsx)(y.default,{type:"submit",variant:"white",className:"flex-shrink-0",children:"Search"}),f.length>0&&(0,a.jsx)("div",{id:"suggestions-list",className:"absolute top-full left-0 right-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-[200]",role:"listbox","aria-label":"Search suggestions",children:f.map((e,t)=>(0,a.jsx)("div",{id:"suggestion-".concat(t),className:"p-2 cursor-pointer hover:bg-gray-100 ".concat(C===t?"bg-gray-100":""),role:"option","aria-selected":C===t,onClick:()=>z(e),onMouseEnter:()=>O(t),tabIndex:0,children:e.title},t))})]})})]})})})};function k(){return(0,a.jsx)(r.Suspense,{children:(0,a.jsx)(N,{})})}function C(){let{data:e}=(0,l.u)(),{footer:t=[]}=e;return(0,a.jsx)("footer",{className:"bg-black text-white w-full",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"flex space-x-4",children:t.map(e=>(0,a.jsx)("a",{href:e.href,className:"text-white hover:underline",children:e.label},e.href))})})})}function O(e){let{children:t}=e,s=g(e=>e.initScorm);return(0,r.useEffect)(()=>{s()},[s]),(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:"min-h-screen flex flex-col",children:(0,a.jsx)(l.A,{children:(0,a.jsx)(d,{children:(0,a.jsxs)(n.A,{children:[(0,a.jsx)(k,{}),(0,a.jsx)("main",{className:"flex-grow",children:t}),(0,a.jsx)(C,{})]})})})})})}},6309:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(5155);let l=(0,s(2115).forwardRef)((e,t)=>{let{as:s="button",type:l="button",href:n,variant:r="primary",className:i="",disabled:o=!1,children:c,...u}=e,d="a"===s?{role:"button",tabIndex:o?-1:0,onKeyDown:e=>{o||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.target.click())}}:{};return(0,a.jsx)(s,{ref:t,type:"button"===s?l:void 0,href:o?void 0:n,className:"".concat("flex-none rounded-md px-3.5 py-2.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"," ").concat({primary:"bg-primary text-label hover:bg-primary_hover focus-visible:outline-primary",white:"bg-white text-label hover:bg-gray-50 border-2 border-gray-100 focus-visible:outline-white"}[r]," ").concat(o?"!bg-gray-400 cursor-not-allowed":""," ").concat(i),disabled:"button"===s?o:void 0,...d,...u,onClick:o?void 0:u.onClick,children:c})})},1950:(e,t,s)=>{"use strict";s.d(t,{A:()=>r,u:()=>i});var a=s(5155),l=s(2115);let n=(0,l.createContext)(),r=e=>{let{children:t}=e,[s,r]=(0,l.useState)({}),[i,o]=(0,l.useState)(!0),[c,u]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{try{let e=["articles.json","courses.json","categories.json","discover.json","featured.json","featured_home.json","footer.json","landing.json","links.json","slides.json","tours.json"],t=e.map(e=>fetch("".concat(e)).then(t=>{if(!t.ok)throw Error("Failed to fetch ".concat(e));return t.json()}).catch(t=>{throw console.error("Error fetching ".concat(e,":"),t),t})),s=await Promise.all(t),a=e.reduce((e,t,a)=>(e[t.replace(".json","")]=s[a],e),{});r(a)}catch(e){u(e),console.error("Error fetching JSON files:",e)}finally{o(!1)}})()},[]),(0,a.jsx)(n.Provider,{value:{data:s,isLoading:i,error:c},children:t})},i=()=>(0,l.useContext)(n)},6878:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,M:()=>c});var a=s(5155),l=s(2115),n=s(86);s(9724);var r=s(6046);let i=(0,l.createContext)();function o(e){let{children:t}=e,[s,o]=(0,l.useState)(null),[c,u]=(0,l.useState)(null),d=(0,r.usePathname)();return(0,l.useEffect)(()=>{if(c){let e=new n.A.Tour({useModalOverlay:!1,defaultStepOptions:{classes:"p-6 rounded-lg z-50",scrollTo:!0,cancelIcon:{enabled:!0}}});c.steps.forEach(t=>{e.addStep({...t,buttons:t.buttons.map(t=>({text:t.text,classes:t.classes,action:e[t.action]?e[t.action].bind(e):e.complete.bind(e)}))})}),o(e),localStorage.getItem("seenTour-".concat(d))||(e.start(),localStorage.setItem("seenTour-".concat(d),"true"))}},[c]),(0,a.jsx)(i.Provider,{value:{setTourConfig:u,startTour:()=>{s&&s.start()},hasTour:!!c},children:t})}function c(){return(0,l.useContext)(i)}},347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[141,261,656,558,441,517,358],()=>t(7305)),_N_E=e.O()}]);