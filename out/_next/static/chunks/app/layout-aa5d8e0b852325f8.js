(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{7305:(e,t,s)=>{Promise.resolve().then(s.bind(s,8230))},8230:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(5155);s(347),s(819);var l=s(1950),n=s(6878),i=s(9827),r=s(5862),o=s.n(r);let c={isInitialized:!1,init:function(){o().SCORM.version="2004";let e=o().SCORM.init();return this.isInitialized=e,console.log("SCORM initialized:",e),e},getLessonStatus:function(){return this.isInitialized?o().SCORM.get("cmi.completion_status")||"unknown":null},setLessonStatus:function(e){return!!this.isInitialized&&(o().SCORM.set("cmi.completion_status",e),o().SCORM.save())},getScore:function(){return this.isInitialized?parseFloat(o().SCORM.get("cmi.score.raw"))||0:null},setScore:function(e){return!!this.isInitialized&&(o().SCORM.set("cmi.score.raw",e),o().SCORM.save())},getSuspendData:function(){if(!this.isInitialized)return null;try{return JSON.parse(o().SCORM.get("cmi.suspend_data"))||{}}catch(e){return console.error("Error parsing suspend data:",e),{}}},setSuspendData:function(e){return!!this.isInitialized&&(o().SCORM.set("cmi.suspend_data",JSON.stringify(e)),o().SCORM.save())},finish:function(){if(!this.isInitialized)return!1;o().SCORM.set("cmi.exit","suspend"),o().SCORM.save(),o().SCORM.quit(),this.isInitialized=!1,console.log("SCORM session finished.")}},u=!1,d=(0,i.v)((e,t)=>({lessonStatus:"not attempted",score:0,suspendData:{},initScorm:()=>{!u&&(console.log("Initializing SCORM..."),c.init()&&(e({lessonStatus:c.getLessonStatus()||"not attempted",score:c.getScore()||0,suspendData:c.getSuspendData()||{}}),u=!0))},updateLessonStatus:t=>{c.setLessonStatus(t),e({lessonStatus:t})},updateScore:t=>{c.setScore(t),e({score:t})},updateSuspendData:t=>{c.setSuspendData(t),e({suspendData:t})},finishScorm:()=>{c.finish(),console.log("SCORM session ended.")}}));var h=s(2115),m=s(9327),x=s(1413),p=s(4380),f=s(6309),g=s(5565),b=s(6046);let v=()=>{(0,b.useRouter)(),(0,b.usePathname)(),(0,b.useSearchParams)();let{data:e}=(0,l.u)()||{},{courses:t=[],categories:s=[]}=e||{},[n,i]=(0,h.useState)(""),[r,o]=(0,h.useState)([]),[c,u]=(0,h.useState)(!1),[d,v]=(0,h.useState)(null),[S,j]=(0,h.useState)(!1),[y,w]=(0,h.useState)(!1);(0,h.useEffect)(()=>{null!==d&&document.getElementById("search").setAttribute("aria-activedescendant","suggestion-".concat(d))},[d]);let C=e=>{N(e.title)},N=e=>{i(e),o([]),v(null),setTimeout(()=>{let e=document.getElementById("search-form");e&&e.submit()},200)},k=()=>{console.log("Site tour triggered")};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("nav",{className:"bg-primary sticky top-0 w-full z-[100]",role:"navigation","aria-label":"Main navigation",children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex items-center flex-shrink-0",children:(0,a.jsxs)("a",{href:"index.html",className:"cursor-pointer text-label font-semibold flex items-center gap-3","aria-label":"Go to homepage",children:[(0,a.jsx)(g.default,{src:"logo.png",alt:"HMRC logo",width:"30",height:"30"}),(0,a.jsx)("span",{className:"whitespace-nowrap text-sm sm:text-base text-black",children:"Leadership & Management Capability Academy"})]})}),(0,a.jsxs)("div",{className:"hidden lg:flex items-center gap-6",children:[(0,a.jsx)("a",{href:"/search.html",className:"text-black text-sm",children:"View Catalogue"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>j(!S),className:"text-black text-sm flex items-center gap-1","aria-haspopup":"true","aria-expanded":S,children:["Explore Capability Learning",(0,a.jsx)(m.A,{className:"transition-transform ".concat(S?"rotate-180":"")})]}),S&&!c&&(0,a.jsx)("div",{className:"absolute mt-2 bg-white border border-gray-200 rounded-md shadow-lg w-full",role:"menu",children:s.map(e=>(0,a.jsx)("a",{href:e.href?e.href:"/search.html?category=".concat(e.title),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",tabIndex:0,children:e.title},e.title))})]}),(0,a.jsx)("button",{onClick:k,className:"text-black text-sm",children:"Site Tour"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>u(!c),className:"text-black","aria-label":"Toggle search",children:(0,a.jsx)(x.A,{})}),(0,a.jsx)("button",{className:"lg:hidden text-black",type:"button",onClick:()=>w(!y),"aria-expanded":y,"aria-controls":"mobile-menu","aria-label":y?"Close menu":"Open menu",children:(0,a.jsx)(p.A,{})})]})]}),y&&(0,a.jsxs)("div",{id:"mobile-menu",className:"lg:hidden mt-4",children:[(0,a.jsx)("a",{href:"/search.html",className:"block px-4 py-2 text-sm text-black",children:"View Catalogue"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>j(!S),className:"block w-full text-left px-4 py-2 text-sm text-black flex items-center justify-between",children:["Explore Capability Learning",(0,a.jsx)(m.A,{className:"transition-transform ".concat(S?"rotate-180":"")})]}),S&&(0,a.jsx)("div",{className:"mt-2 pl-4 w-full",children:s.map(e=>(0,a.jsx)("a",{href:e.href?e.href:"/search.html?category=".concat(e.title),className:"block px-4 py-2 text-sm text-black",children:e.title},e.title))})]}),(0,a.jsx)("button",{onClick:k,className:"block px-4 py-2 text-sm text-black",children:"Site Tour"})]}),c&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("form",{id:"search-form",className:"w-full flex gap-3 relative",action:"search.html","aria-label":"Search form",children:[(0,a.jsx)("input",{id:"search",name:"query",type:"text",autoComplete:"off",value:n,onChange:e=>{let s=e.target.value;i(s),s?o(t.filter(e=>e.title.toLowerCase().includes(s.toLowerCase())).slice(0,3)):o([]),v(null)},onKeyDown:e=>{switch(e.key){case"ArrowDown":e.preventDefault(),v(e=>null===e?0:Math.min(e+1,r.length-1));break;case"ArrowUp":e.preventDefault(),v(e=>null===e?r.length-1:Math.max(e-1,0));break;case"Enter":e.preventDefault(),null!==d&&r[d]&&N(r[d].title);break;case"Escape":o([]),v(null)}},className:"w-full rounded-md bg-white px-3.5 py-2 text-sm placeholder:text-gray-500 focus:outline-primary",placeholder:"Search for articles, learning and more...",role:"combobox","aria-controls":"suggestions-list","aria-expanded":r.length>0,"aria-autocomplete":"list","aria-haspopup":"listbox"}),(0,a.jsx)(f.default,{type:"submit",variant:"white",className:"flex-shrink-0",children:"Search"}),r.length>0&&(0,a.jsx)("div",{id:"suggestions-list",className:"absolute top-full left-0 right-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-[200]",role:"listbox","aria-label":"Search suggestions",children:r.map((e,t)=>(0,a.jsx)("div",{id:"suggestion-".concat(t),className:"p-2 cursor-pointer hover:bg-gray-100 ".concat(d===t?"bg-gray-100":""),role:"option","aria-selected":d===t,onClick:()=>C(e),onMouseEnter:()=>v(t),tabIndex:0,children:e.title},t))})]})})]})})})};function S(){return(0,a.jsx)(h.Suspense,{children:(0,a.jsx)(v,{})})}function j(e){let{children:t}=e,s=d(e=>e.initScorm);return(0,h.useEffect)(()=>{s()},[s]),(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:"min-h-screen flex flex-col",children:(0,a.jsx)(l.A,{children:(0,a.jsxs)(n.A,{children:[(0,a.jsx)(S,{}),(0,a.jsx)("main",{className:"flex-grow",children:t}),(0,a.jsx)("footer",{className:"bg-black text-white w-full",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("a",{href:"/",className:"text-white hover:underline",children:"Accessibility statement"}),(0,a.jsx)("a",{href:"/",className:"text-white hover:underline",children:"Contact Us"})]})})})]})})})})}},6309:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(5155);let l=(0,s(2115).forwardRef)((e,t)=>{let{as:s="button",type:l="button",href:n,variant:i="primary",className:r="",disabled:o=!1,children:c,...u}=e,d="a"===s?{role:"button",tabIndex:o?-1:0,onKeyDown:e=>{o||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.target.click())}}:{};return(0,a.jsx)(s,{ref:t,type:"button"===s?l:void 0,href:o?void 0:n,className:"".concat("flex-none rounded-md px-3.5 py-2.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"," ").concat({primary:"bg-primary text-label hover:bg-primary_hover focus-visible:outline-primary",white:"bg-white text-label hover:bg-gray-50 border-2 border-gray-100 focus-visible:outline-white"}[i]," ").concat(o?"!bg-gray-400 cursor-not-allowed":""," ").concat(r),disabled:"button"===s?o:void 0,...d,...u,onClick:o?void 0:u.onClick,children:c})})},1950:(e,t,s)=>{"use strict";s.d(t,{A:()=>i,u:()=>r});var a=s(5155),l=s(2115);let n=(0,l.createContext)(),i=e=>{let{children:t}=e,[s,i]=(0,l.useState)({}),[r,o]=(0,l.useState)(!0),[c,u]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{try{let e=["articles.json","courses.json","categories.json","discover.json","featured.json","featured_home.json","links.json","slides.json","tours.json"],t=e.map(e=>fetch("".concat(e)).then(t=>{if(!t.ok)throw Error("Failed to fetch ".concat(e));return t.json()}).catch(t=>{throw console.error("Error fetching ".concat(e,":"),t),t})),s=await Promise.all(t),a=e.reduce((e,t,a)=>(e[t.replace(".json","")]=s[a],e),{});i(a)}catch(e){u(e),console.error("Error fetching JSON files:",e)}finally{o(!1)}})()},[]),(0,a.jsx)(n.Provider,{value:{data:s,isLoading:r,error:c},children:t})},r=()=>(0,l.useContext)(n)},6878:(e,t,s)=>{"use strict";s.d(t,{A:()=>o,M:()=>c});var a=s(5155),l=s(2115),n=s(86);s(9724);var i=s(6046);let r=(0,l.createContext)();function o(e){let{children:t}=e,[s,o]=(0,l.useState)(null),[c,u]=(0,l.useState)(null),d=(0,i.usePathname)();return(0,l.useEffect)(()=>{if(c){let e=new n.A.Tour({useModalOverlay:!1,defaultStepOptions:{classes:"p-6 rounded-lg z-50",scrollTo:!0}});c.steps.forEach(t=>{e.addStep({...t,buttons:t.buttons.map(t=>({text:t.text,classes:t.classes,action:e[t.action]?e[t.action].bind(e):e.complete.bind(e)}))})}),o(e),localStorage.getItem("seenTour-".concat(d))||(e.start(),localStorage.setItem("seenTour-".concat(d),"true"))}},[c]),(0,a.jsx)(r.Provider,{value:{setTourConfig:u,startTour:()=>{s&&s.start()},hasTour:!!c},children:t})}function c(){return(0,l.useContext)(r)}},347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[141,261,656,917,441,517,358],()=>t(7305)),_N_E=e.O()}]);