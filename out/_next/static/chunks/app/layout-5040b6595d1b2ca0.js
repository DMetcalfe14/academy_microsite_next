(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{7305:(e,t,a)=>{Promise.resolve().then(a.bind(a,9717))},9717:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(5155);a(347),a(819);var l=a(1950),s=a(8510),i=a(2115),n=a(4380),o=a(9129),c=a(6309),u=a(5565),d=a(6046);let h=()=>{let e=(0,d.useRouter)(),t=(0,d.usePathname)(),a=(0,d.useSearchParams)(),{data:h}=(0,l.u)()||{},{courses:m=[],articles:f=[],discover:g=[]}=h||{},{setLocation:x}=(0,s.A)(),[p,b]=(0,i.useState)(""),[y,v]=(0,i.useState)([]),[w,j]=(0,i.useState)(!1),[N,S]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e,r;let l=a.get("id");t.includes("/details")?(e=m.find(e=>e.id==l))&&(console.log(r='Viewed the course details for "'.concat(e.title,'"')),x(r)):t.includes("/discover")?(e=g.find(e=>e.id==l))&&(console.log(r='Exploring the material within "'.concat(e.title,'"')),x(r)):t.includes("/page")?(e=f.find(e=>e.id==l))&&(console.log(r='Navigated to page: "'.concat(e.title,'"')),x(r)):t.includes("/index")&&(console.log(r="Navigated to home"),x(r))},[h,t,a]),(0,i.useEffect)(()=>{null!==N&&document.getElementById("search").setAttribute("aria-activedescendant","suggestion-".concat(N))},[N]);let k=e=>{let t=e.target.value;b(t),t?v(m.filter(e=>e.title.toLowerCase().includes(t.toLowerCase())).slice(0,3)):v([]),S(null)},E=e=>{I(e.title)},C=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),S(e=>null===e?0:Math.min(e+1,y.length-1));break;case"ArrowUp":e.preventDefault(),S(e=>null===e?y.length-1:Math.max(e-1,0));break;case"Enter":e.preventDefault(),null!==N&&y[N]&&I(y[N].title);break;case"Escape":v([]),S(null)}},I=e=>{b(e),v([]),S(null),setTimeout(()=>{let e=document.getElementById("search-form");e&&e.submit()},200)};return(0,i.useEffect)(()=>{let r="".concat(t).concat(a.toString()?"?".concat(a.toString()):"");e.push(r)},[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{className:"bg-primary sticky top-0 w-full z-[100]",role:"navigation","aria-label":"Main navigation",children:(0,r.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,r.jsx)("div",{className:"flex items-center flex-shrink-0",children:(0,r.jsxs)("a",{href:"index.html",className:"cursor-pointer text-white font-semibold flex items-center gap-3","aria-label":"Go to homepage",children:[(0,r.jsx)(u.default,{src:"logo.png",alt:"HMRC logo",width:"30",height:"30"}),(0,r.jsx)("span",{className:"whitespace-nowrap text-sm sm:text-base",children:"Leadership & Management Capability Academy"})]})}),(0,r.jsx)("div",{className:"hidden lg:flex flex-1 max-w-xl ml-8",children:(0,r.jsxs)("form",{id:"search-form",className:"w-full flex gap-3 relative",action:"search.html","aria-label":"Search form",children:[(0,r.jsx)("label",{htmlFor:"search",className:"sr-only",children:"Search"}),(0,r.jsx)("input",{id:"search",name:"query",type:"text",autoComplete:"off",value:p,onChange:k,onKeyDown:C,className:"w-full rounded-md bg-white px-3.5 py-2 text-sm placeholder:text-gray-500 focus:outline-primary",placeholder:"Search for articles, learning and more...",role:"combobox","aria-controls":"suggestions-list","aria-expanded":y.length>0,"aria-autocomplete":"list","aria-haspopup":"listbox"}),y.length>0&&(0,r.jsx)("div",{id:"suggestions-list",className:"absolute top-full left-0 right-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-[200]",role:"listbox","aria-label":"Search suggestions",children:y.map((e,t)=>(0,r.jsx)("div",{id:"suggestion-".concat(t),className:"p-2 cursor-pointer hover:bg-gray-100 ".concat(N===t?"bg-gray-100":""),role:"option","aria-selected":N===t,onClick:()=>E(e),onMouseEnter:()=>S(t),onKeyDown:t=>"Enter"===t.key&&E(e),tabIndex:0,children:e.title},t))}),(0,r.jsx)(c.default,{type:"submit",variant:"white",className:"flex-shrink-0",children:"Search"})]})}),(0,r.jsx)("div",{className:"lg:hidden flex items-center",children:(0,r.jsx)("button",{className:"text-white focus:outline focus:outline-2 focus:outline-offset-2 focus:outline-primary",type:"button",onClick:()=>j(!w),"aria-expanded":w,"aria-controls":"mobile-search","aria-label":w?"Close search":"Open search",children:(0,r.jsx)(n.A,{})})})]}),w&&(0,r.jsx)("div",{className:"lg:hidden mt-4",children:(0,r.jsxs)("form",{id:"mobile-search",className:"w-full flex gap-3 relative",action:"search.html","aria-label":"Mobile search",children:[(0,r.jsx)("input",{id:"mobile-search-input",name:"query",type:"text",autoComplete:"off",value:p,onChange:k,onKeyDown:C,className:"w-full rounded-md bg-white px-3.5 py-2 text-sm placeholder:text-gray-500 focus:outline-primary",placeholder:"Search for articles...",role:"combobox","aria-controls":"mobile-suggestions","aria-expanded":y.length>0}),(0,r.jsx)(c.default,{type:"submit",variant:"white",className:"flex-shrink-0",children:"Search"}),y.length>0&&(0,r.jsx)("div",{id:"mobile-suggestions",className:"absolute top-full left-0 right-0 mt-1 w-full bg-white border border-gray-200 rounded-md shadow-lg z-[200]",role:"listbox",children:y.map((e,t)=>(0,r.jsx)("div",{className:"p-2 cursor-pointer hover:bg-gray-100 ".concat(N===t?"bg-gray-100":""),role:"option",onClick:()=>E(e),children:e.title},t))})]})})]})}),["/details.html","/discover.html","/page.html"].some(e=>t.includes(e))&&(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative",children:(0,r.jsxs)("button",{onClick:()=>{history.length>1?e.back():e.push("/")},className:"absolute z-50 mt-4 inline-flex items-center border border-transparent text-sm font-medium text-white","aria-label":"Go back to previous page",children:[(0,r.jsx)(o.A,{className:"mr-2 h-5 w-5","aria-hidden":"true"}),"Back"]})})]})};function m(){return(0,r.jsx)(i.Suspense,{children:(0,r.jsx)(h,{})})}function f(e){let{children:t}=e;return(0,i.useEffect)(()=>{sessionStorage.getItem("scorm-init")||((0,s.b)(),sessionStorage.setItem("scorm-init","true"))},[]),(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:(0,r.jsxs)(l.A,{children:[(0,r.jsx)(m,{}),t]})})})}},6309:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var r=a(5155);let l=(0,a(2115).forwardRef)((e,t)=>{let{as:a="button",type:l="button",href:s,variant:i="primary",className:n="",children:o,...c}=e,u="a"===a?{role:"button",tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.target.click())}}:{};return(0,r.jsx)(a,{ref:t,type:"button"===a?l:void 0,href:s,className:"".concat("flex-none rounded-md px-3.5 py-2.5 text-sm font-semibold focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2"," ").concat({primary:"bg-primary text-white hover:bg-primary_hover focus-visible:outline-primary",white:"bg-white text-primary hover:bg-gray-50 border-2 border-gray-100 focus-visible:outline-primary"}[i]," ").concat(n),...u,...c,children:o})})},1950:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,u:()=>n});var r=a(5155),l=a(2115);let s=(0,l.createContext)(),i=e=>{let{children:t}=e,[a,i]=(0,l.useState)({}),[n,o]=(0,l.useState)(!0),[c,u]=(0,l.useState)(null);return(0,l.useEffect)(()=>{(async()=>{try{let e=["articles.json","courses.json","discover.json","featured.json","links.json","slides.json"],t=e.map(e=>fetch("".concat(e)).then(t=>{if(!t.ok)throw Error("Failed to fetch ".concat(e));return t.json()}).catch(t=>{throw console.error("Error fetching ".concat(e,":"),t),t})),a=await Promise.all(t),r=e.reduce((e,t,r)=>(e[t.replace(".json","")]=a[r],e),{});i(r)}catch(e){u(e),console.error("Error fetching JSON files:",e)}finally{o(!1)}})()},[]),(0,r.jsx)(s.Provider,{value:{data:a,isLoading:n,error:c},children:t})},n=()=>(0,l.useContext)(s)},8510:(e,t,a)=>{"use strict";let r;a.d(t,{A:()=>n,b:()=>i});var l=a(2115);let s=!1,i=()=>{s||((r=a(5862)).SCORM.init(),s=!0)},n=()=>{let[e,t]=(0,l.useState)(()=>{let e=localStorage.getItem("interactionIndex");return e?parseInt(e,10):0}),a=(0,l.useRef)(e);(0,l.useEffect)(()=>{if(s){let e=n("cmi.interactions._count"),r=e?parseInt(e,10):0;t(r),a.current=r}},[]),(0,l.useEffect)(()=>{localStorage.setItem("interactionIndex",e)},[e]);let i=(e,t)=>{s&&r.SCORM.set(e,t)},n=e=>s?r.SCORM.get(e):null;return{setScormData:i,setLocation:e=>{let r=crypto.randomUUID();console.log("setting location with id ".concat(a.current)),i("cmi.interactions.".concat(a.current,".id"),r),i("cmi.interactions.".concat(a.current,".type"),"fill-in"),i("cmi.interactions.".concat(a.current,".student_response"),e),i("cmi.interactions.".concat(a.current,".time"),new Date().toISOString());let l=a.current+1;t(l),a.current=l}}}},347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[141,245,254,441,517,358],()=>t(7305)),_N_E=e.O()}]);